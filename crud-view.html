<link rel="import" href="../polymer/polymer-element.html">
<link rel="import" href="dialog/vaadin-modal-dialog.html">

<dom-module id="crud-view">
  <template>
    <style>
      :host {
        position: absolute;
        height: 100%;
        width: 100%;
        display: flex;
        flex-direction: column;
      }
      .header-wrapper {
        display: flex;
      }
      .grid-wrapper {
        flex: 1;
        display: flex;
      }
      .grid-wrapper ::slotted([slot=grid]) {
        width: 100%;
        height: 100%;
      }
    </style>

    <div class="header-wrapper">
      <slot name="header"></grid>
    </div>

    <div class="grid-wrapper">
      <slot name="grid"></slot>
    </div>

    <div class="editor-wrapper">
      <vaadin-modal-dialog opened="[[editing]]" align="right">
        <slot name="editor"></slot>
      </vaadin-modal-dialog>
    </div>
  </template>

  <script>
    /**
     * Helper element for CRUD views.
     * It wraps:
     *  - A list-element for the entities (normally a vaadin-grid) which needs
     *    to extend `CrudListMixin`.
     *  - An editor-element for the entity that need to extend `CrudItemdMixin`.
     *
     * The editor is shown in a modal dialog that is opened when the `editing`
     * property is set to true.
     */
    class CrudView extends Polymer.Element {
      static get is() {
        return 'crud-view';
      }
    }

    window.customElements.define(CrudView.is, CrudView);
  </script>
</dom-module>
